<!DOCTYPE html>
<html>

<head>
    <title>manual audit form</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Dark Mode Button -->
    <button id="darkModeButton">ðŸŒ™</button>
    <button id="clearFieldsButton" type="button">
        <i class="fas fa-sync-alt"></i> 
    </button>
    
    <br /><br />
    <h3 align="center">Audit report form</h3>
    <br /><br />
    <label for="Barrier Summary">Barrier Summary</label>
    <input list="result" type="text" name="BarrierSummary" id="search" placeholder="start typing to autofill" class="form-control" />
    
    <!-- Use datalist for suggestions -->
    <datalist id="result">
    </datalist>

    <label for="Barrier Type">Barrier Type</label><br>
    <select id="BarrierType" name="BarrierType" class="form-control">
        <option value="Global">Global</option>
        <option value="Unique">Unique</option>
    </select>

    <br>
    <label for="Barrier Test">Barrier Test</label><br>
    <select id="BarrierTest" name="BarrierTest" class="form-control">
        <option value="Color Contrast">Color Contrast</option>
        <option value="Screen Reader">Screen Reader</option>
        <option value="Magnification">Magnification</option>
        <option value="Keyboard">Keyboard</option>
        <option value="Gesture">Gesture</option>
        <option value="Inversion">Inversion</option>
    </select>

    <br>
    <label for="Page Title">Page Title</label><br>
    <input type="text" id="PageTitle" name="PageTitle" placeholder="Ex: Page Title" required="" class="form-control">

    <br>
    <label for="URL">URL</label><br>
    <input type="url" id="url" name="URL" placeholder="Ex: Url" required="" class="form-control">


    <br>
    <label for="Code Snippet">Code Snippet</label><br>
    <textarea id="CodeSnippet" name="CodeSnippet" placeholder="Paste code snippet here" required="" class="form-control"></textarea>

    <br>
    <label for="Severity">Severity</label><br>
    <select id="Severity" name="Severity" class="form-control">
        <option value="High">High</option>
        <option value="Medium">Medium</option>
        <option value="Low">Low</option>
        <option value="Advisory">Advisory</option>
    </select>

    <br>
    <label for="WCAG Guideline">WCAG Guideline</label><br>
    <input type="text" id="WcagGuideline" name="WcagGuideline" placeholder="Ex: 2.4.7 Focus Visible (Level AA)" required=""
        class="form-control">

    <br>
    <label for="Section">Section</label><br>
    <select id="Section" name="Section" class="form-control">
        <option value="Pass">Pass</option>
        <option value="Fail">Fail</option>
        <option value="NA">NA</option>
    </select>

    <br>
    <label for="Platform">Platform</label><br>
    <select id="Platform" name="Platform" class="form-control">
        <option value="Win">Win</option>
        <option value="Win/ Mac">Win/ Mac</option>
        <option value="Win/ Mac/ iOS/ Android">Win/ Mac/ iOS/ Android</option>
        <option value="iOS/ Android">iOS/ Android</option>
        <option value="Mac/ iOS">Mac/ iOS</option>
        <option value="iOS">iOS</option>
        <option value="Win/Mac/Android/iOS">Win/Mac/Android/iOS</option>
        <option value="Win/ iOS">Win/ iOS</option>
        <option value="Win/ Android">Win/ Android</option>
    </select>

    <br>
    <label for="Users Affected">Users Affected</label><br>
    <input type="text" id="UsersAffected" name="UsersAffected" placeholder="Ex: Blind" required=""
        class="form-control">

    <br>
    <label for="Steps to Reproduce">Steps to Reproduce</label><br>
    <input type="text" id="StepstoReproduce" name="StepstoReproduce" placeholder="Give Steps" required=""
        class="form-control">

    <br>
    <label for="Actual Result">Actual Result</label><br>
    <textarea id="ActualResult" name="ActualResult" placeholder="Write Actual result" required="" class="form-control"></textarea>

    <br>
    <label for="Expected Result">Expected Result</label><br>
    <textarea id="ExpectedResult" name="ExpectedResult" placeholder="Write Expected result" required=""
        class="form-control"></textarea>

    <br>
    <label for="Recommendation">Recommendation</label><br>
    <textarea id="Recommendation" name="Recommendation" placeholder="Write Recommendation" required=""
        class="form-control"></textarea>

    <br>
    <label for="Instances/ Observation">Instances/ Observation</label><br>
    <textarea id="Observation" name="Observation" placeholder="Mention instances where the issue occurs more than once" required="" class="form-control"></textarea>

    <br>
    <br>
    <input type="submit" value="Submit">
</body>

</html>


<script>
$(document).ready(function(){
    $.ajaxSetup({ cache: false });
    $('#search').on('input', function(e){
        var searchField = $('#search').val();
        var expression = new RegExp(searchField, "i");

        // Clear previous results
        $("#result").html('');

        $.getJSON('data/WCAG-issue-Library.json', function(data) {
            data.forEach((value) => {
                if (value.Barrier_Summary.search(expression) != -1) {
                    $('#result').append(`<option value="${value.Barrier_Summary}" class="list-group-item link-class">${value.Barrier_Summary}</option>`);

                    // Automatically fill other form fields when a suggestion is clicked
                    $('#BarrierTest').val(value.Barrier_Test);
                    $('#BarrierType').val(value.Barrier_Type);
                    $('#Severity').val(value.Severity);
                    $('#WcagGuideline').val(value.WCAG_Guideline);
                    $('#Section').val(value.Section);
                    $('#Platform').val(value.Platform);
                    $('#UsersAffected').val(value.Users_Affected);
                    $('#ActualResult').val(value.Actual_Result);
                    $('#ExpectedResult').val(value.Expected_Result);
                    $('#Recommendation').val(value.Recommendation);
                    
                }
            });
        });
    });

    // Clear suggestions when an option is clicked
    $('#result').on('click', 'option', function() {
        $("#result").html('');
    });
});





    // Dark Mode Button Click Handler
$('#darkModeButton').click(function () {
    $('body').toggleClass('dark-mode');
    });







// Function to clear all input fields
function clearFields() {
  document.getElementById("search").value = "";
  document.getElementById("BarrierType").value = "";
  document.getElementById("BarrierTest").value = "";
  document.getElementById("PageTitle").value = "";
  document.getElementById("url").value = "";
  document.getElementById("CodeSnippet").value = "";
  document.getElementById("Severity").value = "";
  document.getElementById("WcagGuideline").value = "";
  document.getElementById("Section").value = "";
  document.getElementById("Platform").value = "";
  document.getElementById("UsersAffected").value = "";
  document.getElementById("StepstoReproduce").value = "";
  document.getElementById("ActualResult").value = "";
  document.getElementById("ExpectedResult").value = "";
  document.getElementById("Recommendation").value = "";
  document.getElementById("Observation").value = "";
}

// Attach the clearFields function to the "Clear All Fields" button
document.getElementById("clearFieldsButton").addEventListener("click", clearFields);








</script>
